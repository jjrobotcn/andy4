{
  "swagger": "2.0",
  "info": {
    "title": "sensor.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/v2/sensor/get_detect": {
      "get": {
        "summary": "获取感应数据流",
        "operationId": "GetDetect",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "$ref": "#/x-stream-definitions/sensorServiceGetDetectResponse"
            }
          }
        },
        "tags": [
          "SensorService"
        ]
      }
    },
    "/api/v2/sensor/get_motion_induction": {
      "get": {
        "summary": "获取动态感应数据\n场景示例： 迎宾感应",
        "operationId": "GetMotionInduction",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "$ref": "#/x-stream-definitions/sensorServiceGetMotionInductionResponse"
            }
          }
        },
        "tags": [
          "SensorService"
        ]
      }
    },
    "/api/v2/sensor/get_touch": {
      "get": {
        "summary": "获取触摸数据流",
        "operationId": "GetTouch",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "$ref": "#/x-stream-definitions/sensorServiceGetTouchResponse"
            }
          }
        },
        "tags": [
          "SensorService"
        ]
      }
    },
    "/api/v2/sensor/raw": {
      "get": {
        "summary": "获取传感器原始数据调试接口",
        "operationId": "Raw",
        "responses": {
          "200": {
            "description": "A successful response.(streaming responses)",
            "schema": {
              "$ref": "#/x-stream-definitions/sensorServiceRawResponse"
            }
          }
        },
        "tags": [
          "SensorService"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "type_url": {
          "type": "string"
        },
        "value": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "runtimeStreamError": {
      "type": "object",
      "properties": {
        "grpc_code": {
          "type": "integer",
          "format": "int32"
        },
        "http_code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "http_status": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "sensorServiceDataAgv": {
      "type": "object",
      "properties": {
        "card_id": {
          "type": "string"
        },
        "data": {
          "type": "array",
          "items": {
            "type": "boolean",
            "format": "boolean"
          }
        }
      },
      "title": "agv数据\ncard_id: 感应卡点id\ndata: 是否为激活状态列表"
    },
    "sensorServiceDataObs": {
      "type": "object",
      "properties": {
        "data": {
          "type": "object",
          "additionalProperties": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "title": "避障传感器数据\ne.g. {\"topRight: 30\", \"bottomMiddle\": 10}\n*topRight等key非最终使用, 仅作为示例"
    },
    "sensorServiceDataTouch": {
      "type": "object",
      "properties": {
        "touched": {
          "type": "object",
          "additionalProperties": {
            "type": "boolean",
            "format": "boolean"
          }
        }
      },
      "title": "触摸数据\ne.g. {hand_left: false, hand_right: true, head: true}"
    },
    "sensorServiceDataType": {
      "type": "string",
      "enum": [
        "UNKNOWN",
        "OBS",
        "AGV",
        "TOUCH"
      ],
      "default": "UNKNOWN"
    },
    "sensorServiceDetectDirection": {
      "type": "string",
      "enum": [
        "_ZERO_DIR",
        "RELEASE_DIR",
        "LEFT",
        "CENTER",
        "RIGHT"
      ],
      "default": "_ZERO_DIR",
      "title": "检测方向"
    },
    "sensorServiceDetectDistance": {
      "type": "string",
      "enum": [
        "_ZERO_DIS",
        "RELEASE_DIS",
        "CLOSE",
        "MEDIUM",
        "LONG"
      ],
      "default": "_ZERO_DIS",
      "title": "检测距离"
    },
    "sensorServiceGetDetectResponse": {
      "type": "object",
      "properties": {
        "direction": {
          "$ref": "#/definitions/sensorServiceDetectDirection"
        },
        "distance": {
          "$ref": "#/definitions/sensorServiceDetectDistance"
        }
      },
      "title": "传感器状态流数据\nstype: 数据类型"
    },
    "sensorServiceGetMotionInductionResponse": {
      "type": "object",
      "properties": {
        "left": {
          "type": "boolean",
          "format": "boolean"
        },
        "right": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "sensorServiceGetTouchResponse": {
      "type": "object",
      "properties": {
        "hand_left": {
          "type": "boolean",
          "format": "boolean"
        },
        "hand_right": {
          "type": "boolean",
          "format": "boolean"
        },
        "head": {
          "type": "boolean",
          "format": "boolean"
        }
      },
      "title": "触摸状态流数据"
    },
    "sensorServiceRawResponse": {
      "type": "object",
      "properties": {
        "dtype": {
          "$ref": "#/definitions/sensorServiceDataType"
        },
        "obs": {
          "$ref": "#/definitions/sensorServiceDataObs"
        },
        "agv": {
          "$ref": "#/definitions/sensorServiceDataAgv"
        },
        "touch": {
          "$ref": "#/definitions/sensorServiceDataTouch"
        }
      },
      "title": "原始数据返回\ndtype: 传感器更新数据类型"
    }
  },
  "x-stream-definitions": {
    "sensorServiceGetDetectResponse": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/sensorServiceGetDetectResponse"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of sensorServiceGetDetectResponse"
    },
    "sensorServiceGetMotionInductionResponse": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/sensorServiceGetMotionInductionResponse"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of sensorServiceGetMotionInductionResponse"
    },
    "sensorServiceGetTouchResponse": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/sensorServiceGetTouchResponse"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of sensorServiceGetTouchResponse"
    },
    "sensorServiceRawResponse": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/sensorServiceRawResponse"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of sensorServiceRawResponse"
    }
  }
}
