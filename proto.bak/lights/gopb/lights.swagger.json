{
  "swagger": "2.0",
  "info": {
    "title": "lights.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/v2/lights/delete_lights": {
      "post": {
        "summary": "删除灯光",
        "operationId": "DeleteLights",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/lightsServiceDeleteLightsResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/lightsServiceDeleteLightsRequest"
            }
          }
        ],
        "tags": [
          "LightsService"
        ]
      }
    },
    "/api/v2/lights/list_lights": {
      "post": {
        "summary": "获取灯光数据",
        "operationId": "ListLights",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/lightsServiceListLightsResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/lightsServiceListLightsRequest"
            }
          }
        ],
        "tags": [
          "LightsService"
        ]
      }
    },
    "/api/v2/lights/new_light": {
      "post": {
        "summary": "创建灯光",
        "operationId": "NewLight",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/lightsServiceNewLightResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/lightsServiceNewLightRequest"
            }
          }
        ],
        "tags": [
          "LightsService"
        ]
      }
    },
    "/api/v2/lights/play_light": {
      "post": {
        "summary": "播放灯光\n需在播放前执行PreviewLight生成灯光文件",
        "operationId": "PlayLight",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/lightsServicePlayLightResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/lightsServicePlayLightRequest"
            }
          }
        ],
        "tags": [
          "LightsService"
        ]
      }
    },
    "/api/v2/lights/preview_light": {
      "post": {
        "summary": "预览灯光\n创建灯光后使用此方法生成灯光文件\n在未生成灯光文件前调用PlayLight将无效",
        "operationId": "PreviewLight",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/lightsServicePreviewLightResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/lightsServicePreviewLightRequest"
            }
          }
        ],
        "tags": [
          "LightsService"
        ]
      }
    },
    "/api/v2/lights/state": {
      "get": {
        "summary": "获取当前灯光模块状态",
        "operationId": "State",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/lightsServiceStateResponse"
            }
          }
        },
        "tags": [
          "LightsService"
        ]
      }
    },
    "/api/v2/lights/stop_light": {
      "post": {
        "summary": "停止灯光",
        "operationId": "StopLight",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/lightsServiceStopLightResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/lightsServiceStopLightRequest"
            }
          }
        ],
        "tags": [
          "LightsService"
        ]
      }
    },
    "/api/v2/lights/switch": {
      "post": {
        "summary": "控制灯光的开关",
        "operationId": "Switch",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/lightsServiceSwitchResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/lightsServiceSwitchRequest"
            }
          }
        ],
        "tags": [
          "LightsService"
        ]
      }
    },
    "/api/v2/lights/update_light": {
      "post": {
        "summary": "更新灯光数据",
        "operationId": "UpdateLight",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/lightsServiceUpdateLightResponse"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/lightsServiceUpdateLightRequest"
            }
          }
        ],
        "tags": [
          "LightsService"
        ]
      }
    }
  },
  "definitions": {
    "lightsServiceDeleteLightsRequest": {
      "type": "object",
      "properties": {
        "lights_id": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "删除灯光id列表"
        }
      },
      "title": "删除灯光请求"
    },
    "lightsServiceDeleteLightsResponse": {
      "type": "object",
      "title": "删除灯光结果"
    },
    "lightsServiceLightFrame": {
      "type": "object",
      "properties": {
        "colors": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "灯光hex数据列表\ne.g. #31ebd1"
        },
        "speed": {
          "type": "integer",
          "format": "int64",
          "title": "播放速度"
        },
        "mode": {
          "$ref": "#/definitions/lightsServicePlayMode",
          "title": "播放模式"
        }
      },
      "title": "灯光帧"
    },
    "lightsServiceLightInfo": {
      "type": "object",
      "properties": {
        "ltype": {
          "$ref": "#/definitions/lightsServiceLightType",
          "title": "灯光类型"
        },
        "id": {
          "type": "string",
          "title": "灯光id"
        },
        "name": {
          "type": "string",
          "title": "灯光名"
        },
        "frames": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/lightsServiceLightFrame"
          },
          "title": "灯光帧列表"
        }
      },
      "title": "灯光数据明细"
    },
    "lightsServiceLightType": {
      "type": "string",
      "enum": [
        "UNDEFINED",
        "MOUTH",
        "HANDS",
        "EARS"
      ],
      "default": "UNDEFINED",
      "description": "- UNDEFINED: 保留， 不使用\n - MOUTH: 嘴部灯光\n - HANDS: 手臂灯光\n - EARS: 耳朵灯光",
      "title": "灯光类型"
    },
    "lightsServiceListLightsRequest": {
      "type": "object",
      "properties": {
        "ltype": {
          "$ref": "#/definitions/lightsServiceLightType",
          "title": "灯光类型"
        }
      },
      "title": "获取灯光数据请求"
    },
    "lightsServiceListLightsResponse": {
      "type": "object",
      "properties": {
        "lights_info": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/lightsServiceLightInfo"
          },
          "title": "灯光数据明细列表"
        }
      },
      "title": "获取灯光数据结果"
    },
    "lightsServiceNewLightRequest": {
      "type": "object",
      "properties": {
        "light_info": {
          "$ref": "#/definitions/lightsServiceLightInfo",
          "title": "灯光数据明细"
        }
      },
      "title": "创建灯光请求"
    },
    "lightsServiceNewLightResponse": {
      "type": "object",
      "properties": {
        "light_info": {
          "$ref": "#/definitions/lightsServiceLightInfo",
          "title": "灯光数据明细"
        }
      },
      "title": "创建灯光结果"
    },
    "lightsServicePlayLightRequest": {
      "type": "object",
      "properties": {
        "ltype": {
          "$ref": "#/definitions/lightsServiceLightType",
          "title": "灯光类型"
        },
        "id": {
          "type": "string",
          "title": "灯光id\nname参数非空时将优先匹配"
        },
        "name": {
          "type": "string",
          "title": "灯光名\n仅匹配"
        }
      },
      "title": "播放灯光请求"
    },
    "lightsServicePlayLightResponse": {
      "type": "object",
      "title": "播放灯光请求结果"
    },
    "lightsServicePlayMode": {
      "type": "string",
      "enum": [
        "PRESET",
        "ALWAYS",
        "MARQUEE",
        "FLASH",
        "TICKTOCK"
      ],
      "default": "PRESET",
      "description": "- PRESET: 预置模式 默认为ALWAYS\n - ALWAYS: 常亮模式\n - MARQUEE: 滚动模式\n[1,2,3] =\u003e [2,3,1] =\u003e [3,1,2]\n - FLASH: 闪烁模式\n[true, true] =\u003e [false, false]\n - TICKTOCK: 跳动模式\n[true, false, true, false] =\u003e [false, true, false, true]",
      "title": "播放模式"
    },
    "lightsServicePreviewLightRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "灯光id"
        }
      },
      "title": "预览灯光请求"
    },
    "lightsServicePreviewLightResponse": {
      "type": "object",
      "title": "预览灯光结果"
    },
    "lightsServiceStateResponse": {
      "type": "object",
      "properties": {
        "is_active": {
          "type": "boolean",
          "format": "boolean",
          "title": "当前是否启用"
        },
        "is_playing": {
          "type": "boolean",
          "format": "boolean",
          "title": "当前是否在播放中"
        }
      }
    },
    "lightsServiceStopLightRequest": {
      "type": "object",
      "properties": {
        "ltypes": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/lightsServiceLightType"
          },
          "title": "灯光类型列表"
        }
      },
      "title": "停止灯光请求"
    },
    "lightsServiceStopLightResponse": {
      "type": "object",
      "title": "停止灯光结果"
    },
    "lightsServiceSwitchRequest": {
      "type": "object",
      "properties": {
        "active": {
          "type": "boolean",
          "format": "boolean",
          "title": "启用与关闭"
        }
      }
    },
    "lightsServiceSwitchResponse": {
      "type": "object",
      "properties": {
        "is_active": {
          "type": "boolean",
          "format": "boolean",
          "title": "当前是否启用"
        }
      }
    },
    "lightsServiceUpdateLightRequest": {
      "type": "object",
      "properties": {
        "light_info": {
          "$ref": "#/definitions/lightsServiceLightInfo",
          "title": "灯光数据明细"
        }
      },
      "title": "更新灯光数据请求"
    },
    "lightsServiceUpdateLightResponse": {
      "type": "object",
      "properties": {
        "light_info": {
          "$ref": "#/definitions/lightsServiceLightInfo",
          "title": "灯光数据明细"
        }
      },
      "title": "更新灯光数据结果"
    }
  }
}
